
# «S&P 500»
1. Створені два Python скрипта:
- *yfinance_tickers.py*
- *load_tickers.py*

2. Створена БД з використанням TimescaleDB
3. Створений docker-compose для запуску сервера бази даних

## База даних
 Використовується TimescaleDB розширення для Postgresql.
 Це дає змогу збільшити швидкість роботи з time-series data.
 Створені три таблиці з різними chunks для різних таймрфреймів.
 Скрипт створення БД знаходиться в *initdb/init.sql*

## yfinance_tickers.py
 Вивантажує тікери для S&P 500 із заданими таймфреймами в csv-файли.
 Список тікерів береться з відповідної статті на Вікіпедії.
 Дані тікерів вивантажуються з використанням безкоштовного API Yahoo Finance.

 Для кожного таймфрейму створюється окрема папка

### Що можна поліпшити в роботі програми:
 Оскільки API безкоштовне і вважається неофіційним, то для гарантованого уникнення блокування, скрипт працює послідовно з паузою в одну секунду після вивантаження кожного тікера.
 Функція download бібліотеки yfinance може приймати список тікерів як параметр.
 Можна спробувати розбити список на кілька частин і запустити одночасно кілька екземплярів функції вивантаження через threading.


## load_tickers.py
Завантажує дані з CSV-файлів у таблиці TimescaleDB

### Що можна поліпшити в роботі програми:
Хоча скрипт і зроблений асинхронним, але каталоги з таймфреймами все одно обробляються послідовно
Потрібно зробити запуск відразу декількох завдань із завантаженням файлів



## Метрики запису до БД
`
 ==============================================
 Loading 2y: 139.92 seconds
 ==============================================
 ==============================================
 Loading 1h: 27.47 seconds
 ==============================================
 ==============================================
 Loading 5m: 46.62 seconds
 ==============================================
`
